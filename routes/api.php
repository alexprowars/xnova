<?php

use Illuminate\Support\Facades\Route;

Route::get('banned', 'BannedController@index')->name('banned');
Route::get('contacts', 'ContactsController@index')->name('contacts');
Route::get('content', 'ContentController@index')->name('content');
Route::get('/', 'IndexController@index')->name('index');
Route::match(['get', 'post'], 'registration', 'IndexController@Registration')->name('registration');
Route::get('log/{id}', 'LogController@info')->name('log.info');
Route::get('news', 'NewsController@index')->name('news');
Route::match(['get', 'post'], 'payment/robokassa', 'PaymentController@robokassa')->name('payment.robokassa');
Route::match(['get', 'post'], 'stat', 'StatController@index')->name('stat');
Route::match(['get', 'post'], 'xnsim', 'XnsimController@index')->name('xnsim');
Route::get('players/{id}', 'PlayersController@index')->name('players');

Route::post('login', 'LoginController@LoginByCredentials')->name('login');
Route::get('login/social/{service}', 'LoginController@LoginBySocialServices')->name('login.socials');
Route::get('login/callback/{service}', 'LoginController@SocialServicesCallback')->name('login.callback');
Route::match(['get', 'post'], 'login/reset', 'LoginController@ResetPassword')->name('login.reset');

Route::middleware(['auth'])->group(function () {
	Route::get('tech', 'TechController@index')->name('tech');
	Route::get('tech/{id}', 'TechController@info')->name('tech');
	Route::match(['get', 'post'], 'start', 'StartController@index')->name('start');
	Route::match(['get', 'post'], 'sim', 'SimController@index')->name('sim');
	Route::get('records', 'RecordsController@index')->name('records');
	Route::get('players/stat/{id}', 'PlayersController@stat')->name('players');
	Route::get('logout', 'LogoutController@index')->name('logout');
	Route::get('info/{id}', 'InfoController@index')->name('info');
	Route::get('hall', 'HallController@index')->name('hall');
	Route::get('chat', 'ChatController@index')->name('chat');
	Route::post('chat/send', 'ChatController@sendMessage')->name('chat.send');
	Route::get('chat/last', 'ChatController@last')->name('chat.last');

	Route::match(['get', 'post'], 'alliance', 'AllianceController@index')->name('alliance');
	Route::match(['get', 'post'], 'alliance/search', 'AllianceController@search')->name('alliance.search');
	Route::match(['get', 'post'], 'alliance/make', 'AllianceController@make')->name('alliance.make');
	Route::match(['get', 'post'], 'alliance/apply', 'AllianceController@apply')->name('alliance.apply');
	Route::match(['get', 'post'], 'alliance/chat', 'AllianceController@chat')->name('alliance.chat');
	Route::match(['get', 'post'], 'alliance/admin', 'AllianceController@admin')->name('alliance.admin');
	Route::match(['get', 'post'], 'alliance/admin/rights', 'AllianceController@adminRights')->name('alliance.admin.rights');
	Route::match(['get', 'post'], 'alliance/admin/requests', 'AllianceController@adminRequests')->name('alliance.admin.requests');
	Route::match(['get', 'post'], 'alliance/admin/name', 'AllianceController@adminName')->name('alliance.admin.name');
	Route::match(['get', 'post'], 'alliance/admin/tag', 'AllianceController@adminTag')->name('alliance.admin.tag');
	Route::match(['get', 'post'], 'alliance/admin/exit', 'AllianceController@adminExit')->name('alliance.admin.exit');
	Route::match(['get', 'post'], 'alliance/admin/give', 'AllianceController@adminGive')->name('alliance.admin.give');
	Route::match(['get', 'post'], 'alliance/admin/members', 'AllianceController@adminMembers')->name('alliance.admin.members');
	Route::match(['get', 'post'], 'alliance/diplomacy', 'AllianceController@diplomacy')->name('alliance.diplomacy');
	Route::match(['get', 'post'], 'alliance/exit', 'AllianceController@exit')->name('alliance.exit');
	Route::match(['get', 'post'], 'alliance/members', 'AllianceController@members')->name('alliance.members');
	Route::get('alliance/info/{id}', 'AllianceController@info')->name('alliance.info');
	Route::get('alliance/stat/{id}', 'AllianceController@stat')->name('alliance.stat');

	Route::match(['get', 'post'], 'buddy', 'BuddyController@index')->name('buddy');
	Route::match(['get', 'post'], 'buildings', 'BuildingsController@index')->name('buildings');
	Route::match(['get', 'post'], 'credits', 'CreditsController@index')->name('credits');
	Route::match(['get', 'post'], 'defense', 'DefenseController@index')->name('defense');
	Route::get('fleet', 'FleetController@index')->name('fleet');
	Route::get('fleet/g{galaxy}/s{system}/p{planet}/t{type}/m{mission}', 'FleetController@index')->name('fleet');
	Route::match(['get', 'post'], 'fleet/checkout', 'Fleet\FleetController@index')->name('fleet.checkout');
	Route::match(['get', 'post'], 'fleet/send', 'Fleet\FleetSendController@index')->name('fleet.send');
	Route::match(['get', 'post'], 'fleet/back', 'Fleet\FleetBackController@index')->name('fleet.back');
	Route::match(['get', 'post'], 'fleet/shortcut', 'Fleet\FleetShortcutController@index')->name('fleet.shortcut');
	Route::match(['get', 'post'], 'fleet/shortcut/add', 'Fleet\FleetShortcutController@add')->name('fleet.shortcut.add');
	Route::match(['get', 'post'], 'fleet/shortcut/{id}', 'Fleet\FleetShortcutController@view')->name('fleet.shortcut.view');
	Route::match(['get', 'post'], 'fleet/verband/{id}', 'Fleet\FleetVerbandController@index')->name('fleet.verband');
	Route::match(['get', 'post'], 'fleet/quick', 'Fleet\FleetQuickController@index')->name('fleet.quick');
	Route::match(['get', 'post'], 'galaxy', 'GalaxyController@index')->name('galaxy');
	Route::get('imperium', 'ImperiumController@index')->name('imperium');
	Route::match(['get', 'post'], 'log', 'LogController@index')->name('log');
	Route::get('log/new', 'LogController@new')->name('log.new');
	Route::post('log/new', 'LogController@newSave')->name('log.new.save');
	Route::match(['get', 'post'], 'merchant', 'MerchantController@index')->name('merchant');
	Route::match(['get', 'post'], 'messages', 'MessagesController@index')->name('messages');
	Route::match(['get', 'post'], 'messages/write/{id}', 'MessagesController@write')->name('messages');
	Route::match(['get', 'post'], 'notes', 'NotesController@index')->name('notes');
	Route::match(['get', 'post'], 'notes/edit/{id}', 'NotesController@edit')->name('notes.edit');
	Route::match(['get', 'post'], 'notes/new', 'NotesController@new')->name('notes.new');
	Route::match(['get', 'post'], 'officier', 'OfficierController@index')->name('officier');
	Route::match(['get', 'post'], 'options', 'OptionsController@index')->name('options');
	Route::match(['get', 'post'], 'overview', 'OverviewController@index')->name('overview');
	Route::match(['get', 'post'], 'overview/rename', 'OverviewController@rename')->name('overview.rename');
	Route::match(['get', 'post'], 'overview/delete', 'OverviewController@delete')->name('overview.delete');
	Route::get('payment', 'PaymentController@index')->name('payment');
	Route::get('phalanx', 'PhalanxController@index')->name('phalanx');
	Route::match(['get', 'post'], 'race', 'RaceController@index')->name('race');
	Route::get('refers', 'RefersController@index')->name('refers');
	Route::match(['get', 'post'], 'research', 'ResearchController@index')->name('research');
	Route::match(['get', 'post'], 'resources', 'ResourcesController@index')->name('resources');
	Route::get('rocket', 'RocketController@index')->name('rocket');
	Route::get('rw/{id}/{key}', 'RwController@index')->name('rw');
	Route::match(['get', 'post'], 'search', 'SearchController@index')->name('search');
	Route::match(['get', 'post'], 'shipyard', 'ShipyardController@index')->name('shipyard');
	Route::get('support', 'SupportController@index')->name('support');
	Route::get('support/info/{id}', 'SupportController@info')->name('support.info');
	Route::post('support/answer/{id}', 'SupportController@answer')->name('support.answer');
	Route::post('support/add', 'SupportController@add')->name('support.add');
	Route::get('tutorial', 'TutorialController@index')->name('tutorial');
	Route::match(['get', 'post'], 'tutorial/{stage}', 'TutorialController@info')->name('tutorial.info');
});
